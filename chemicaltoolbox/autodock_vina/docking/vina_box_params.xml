<tool id="vina_box_params" name="Box parameters for docking" version="0.1.0">
    <description>using Autodock Vina</description>
    <requirements>
        <requirement type="package" version="2018.09.3">rdkit</requirement>
    </requirements>

    <command detect_errors="exit_code"><![CDATA[
        python '$__tool_directory__/calc_vina_box_params.py' --ligand $infile --config $outfile  --tol $tolerance --exh $exhaustiveness
    ]]></command>

    <inputs>
        <param name="infile" format="mol" type="data" label="Molecule data"
            help="In MOL format"/>
        <param name="tolerance" type="float" value="0" label="Tolerance" help="Expand box dimensions by this amount"/>
        <param name="exhaustiveness" type="float" value="10" label="Exhaustiveness" help="Number of runs Vina should perform in the search box - increase for large box sizes"/>
        
    </inputs>
    
    <outputs>
        <data format="txt" name="outfile" />
    </outputs>
    
    <tests>
        <test>
            <param name="infile" ftype='mol' value="NUDT5A-x0114_2.mol" />
            <param name="tolerance" value="2" />
            <param name="exhaustiveness" value="20" />
            <output name="outfile" ftype='txt' file="box_params.txt" />
        </test>
    </tests>

    <help><![CDATA[
        help here
    ]]></help>

    <citations>
        <citation type="bibtex">
            @article{rdkit,
                author = {Greg Landrum and others},
                title = {RDKit: Open-source cheminformatics},
                url ={http://www.rdkit.org}
            }</citation>
    </citations>

</tool>